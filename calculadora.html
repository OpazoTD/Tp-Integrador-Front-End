<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>Grupo 7 - Calculadora de Huella de Carbono Personal</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              brand: {
                bg: "#0b1220",
                card: "#0f172a",
                accent: "#22c55e",
                line: "#1f2937",
                text: "#e5e7eb",
                muted: "#9ca3af",
              },
            },
            borderRadius: { "2xl": "1rem" },
          },
        },
      };
    </script>

    <!-- Implementación de modo claro/oscuro -->
    <script>
      (function () {
        const html = document.documentElement;
        // Initial mode
        try {
          const prefersDark = window.matchMedia(
            "(prefers-color-scheme: dark)"
          ).matches;
          const saved = localStorage.getItem("theme"); // 'dark' | 'light' | null
          const start = saved ?? (prefersDark ? "dark" : "light");
          applyTheme(start);
        } catch (e) {}

        function applyTheme(mode) {
          const isDark = mode === "dark";
          html.classList.toggle("dark", isDark);
          try {
            localStorage.setItem("theme", isDark ? "dark" : "light");
          } catch (e) {}
          const toggle = document.getElementById("darkToggle");
          const dot = document.getElementById("switchDot");
          const modeText = document.getElementById("mode_text");
          if (toggle) toggle.checked = isDark;
          if (dot) {
            dot.classList.toggle("translate-x-5", isDark);
          }
          if (modeText)
            modeText.textContent = isDark ? "Modo Oscuro" : "Modo Claro";
        }

        document.addEventListener("DOMContentLoaded", function () {
          const toggle = document.getElementById("darkToggle");
          if (toggle) {
            toggle.addEventListener("change", () => {
              applyTheme(toggle.checked ? "dark" : "light");
            });
          }
        });
      })();
    </script>
  </head>
  <body class="bg-gray-100 text-gray-900 dark:bg-gray-900 dark:text-gray-100">
    <div class="app w-full min-[720px]:max-w-[760px] min-[720px]:mx-auto">
      <header
        class="header bg-gray-100 dark:bg-gray-900 border-b border-gray-200 dark:border-zinc-800 sticky top-0 z-20 px-4 py-3"
      >
        <div class="max-w-3xl mx-auto px-3 flex items-center justify-between">
          <h1 class="text-lg font-semibold text-[18px] m-0">
            Huella de Carbono
          </h1>
          <div class="subtle text-xs mt-0.5"></div>
          <label class="flex items-center cursor-pointer select-none ml-4">
            <span id="mode_text" class="mr-3 text-sm">Modo Oscuro</span>
            <input id="darkToggle" type="checkbox" class="hidden" />
            <div
              class="w-10 h-5 bg-gray-300 dark:bg-gray-700 rounded-full p-1 flex items-center transition"
            >
              <div
                id="switchDot"
                class="w-4 h-4 bg-white rounded-full shadow transform transition"
              ></div>
            </div>
          </label>
        </div>
      </header>

      <!-- Wizard header -->
      <header
        class="w-full sticky top-[60px] z-10 bg-gray-100 dark:bg-gray-900 border-b border-gray-200 dark:border-zinc-800"
      >
        <div class="max-w-3xl mx-auto px-3 py-3">
          <ol
            id="wizard-steps"
            class="grid grid-cols-3 sm:grid-cols-6 gap-2 items-center"
            role="tablist"
            aria-label="Progreso"
          ></ol>
        </div>
      </header>

      <main class="max-w-3xl mx-auto px-3">
        <!-- 1. ARTEFACTOS ELÉCTRICOS-->
        <section
          id="page-artefactos"
          class="page active"
          role="tabpanel"
          aria-labelledby="tab-artefactos"
        >
          <div
            class="card rounded-2xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-gray-900 p-3 shadow-sm"
          >
            <div
              class="badge inline-block text-sm uppercase tracking-wide text-gray-500 dark:text-lime-400 mb-2"
            >
              Artefactos eléctricos - Cómo funciona
            </div>
            <div class="meta text-base">
              Para cada dispositivo o equipo, ingresá cuántas horas por día (en
              promedio) lo usás en el día.
            </div>
          </div>
          <div
            class="card rounded-2xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-gray-800 p-3 shadow-sm"
          >
            <div
              class="badge inline-block text-sm uppercase tracking-wide text-gray-500 dark:text-lime-400 mb-2"
            >
              Parámetros
            </div>
            <div class="controls">
              <div>
                <label for="diasArtefactos"
                  >Cantidad de días a considerar del año</label
                ><br />
                <input
                  id="diasArtefactos"
                  class="input w-full rounded-md border border-gray-300 dark:border-zinc-700 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-3 py-2 focus:outline-none focus:ring focus:ring-emerald-500/30"
                  type="number"
                  min="0"
                  step="1"
                />
              </div>
            </div>
          </div>
          <div
            id="list-artefactos"
            class="grid rounded-2xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-gray-800 p-3 shadow-sm"
          ></div>
        </section>

        <!-- 2. CLIMATIZACIÓN -->
        <section
          id="page-clima"
          class="page"
          role="tabpanel"
          aria-labelledby="tab-clima"
        >
          <div
            class="card rounded-2xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-gray-900 p-3 shadow-sm"
          >
            <div
              class="badge inline-block text-sm uppercase tracking-wide text-gray-500 dark:text-lime-400 mb-2"
            >
              Climatización - Cómo funciona
            </div>
            <div class="meta text-base">
              Para cada artefacto que tengas, ingresá en promedio la cantidad de
              horas que lo utilizás por día.
            </div>
          </div>
          <div
            class="card rounded-2xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-gray-800 p-3 shadow-sm"
          >
            <div
              class="badge inline-block text-sm uppercase tracking-wide text-gray-500 dark:text-lime-400 mb-2"
            >
              Parámetros
            </div>
            <div class="controls">
              <div>
                <label for="diasInvierno">Días de invierno</label><br />
                <input
                  id="diasInvierno"
                  class="input w-full rounded-md border border-gray-300 dark:border-zinc-700 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-3 py-2 focus:outline-none focus:ring focus:ring-emerald-500/30"
                  type="number"
                  min="0"
                  step="1"
                />
              </div>
              <div>
                <label for="diasVerano">Días de verano</label><br />
                <input
                  id="diasVerano"
                  class="input w-full rounded-md border border-gray-300 dark:border-zinc-700 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-3 py-2 focus:outline-none focus:ring focus:ring-emerald-500/30"
                  type="number"
                  min="0"
                  step="1"
                />
              </div>
            </div>
          </div>
          <div
            class="card rounded-2xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-gray-800 p-3 shadow-sm"
          >
            <div
              class="badge inline-block text-sm uppercase tracking-wide text-gray-500 dark:text-lime-400 mb-2"
            >
              Invierno
            </div>
            <div id="list-invierno" class="grid"></div>
          </div>
          <div
            class="card rounded-2xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-gray-800 p-3 shadow-sm"
          >
            <div
              class="badge inline-block text-sm uppercase tracking-wide text-gray-500 dark:text-lime-400 mb-2"
            >
              Verano
            </div>
            <div id="list-verano" class="grid"></div>
          </div>
        </section>

        <!-- ILUMINACION -->
<section
          id="page-iluminacion"
          class="page"
          role="tabpanel"
          aria-labelledby="tab-iluminacion"
        >
          <div
            class="card rounded-2xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-gray-900 p-3 shadow-sm"
          >
            <div
              class="badge inline-block text-sm uppercase tracking-wide text-gray-500 dark:text-lime-400 mb-2"
            >
              Iluminación - Cómo funciona
            </div>
            <div class="meta text-base">
              Ingresá el tipo de lámparas que tenés en tu casa, la potencia, la
              cantidad y el promedio de uso diario. Agregá tantos tipos de
              lámparas como tengas.
            </div>
          </div>
          <div
            class="card rounded-2xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-gray-800 p-3 shadow-sm"
          >
            <div
              class="badge inline-block text-sm uppercase tracking-wide text-gray-500 dark:text-lime-400 mb-2"
            >
              Parámetros
            </div>
            <div class="controls">
              <div>
                <label for="diasIluminacion"
                  >Cantidad de días a considerar del año</label
                ><br />
                <input
                  id="diasIluminacion"
                  class="input w-full rounded-md border border-gray-300 dark:border-zinc-700 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-3 py-2 focus:outline-none focus:ring focus:ring-emerald-500/30"
                  type="number"
                  min="0"
                  step="1"
                />
              </div>
            </div>
          </div>
          <div
            class="card rounded-2xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-gray-800 p-3 shadow-sm"
          >
            <div
              class="badge inline-block text-sm uppercase tracking-wide text-gray-500 dark:text-lime-400 mb-2"
            >
              Agregar lámparas
            </div>
            <div class="controls">
              <button
                id="btnAddLamp"
                class="btn primary inline-flex items-center justify-center rounded-xl border border-gray-300 dark:border-zinc-700 px-3 py-2 min-w-[44px] min-h-[44px] text-[15px] hover:bg-gray-100 dark:hover:bg-zinc-800 transition"
              >
                + Lámpara
              </button>
              <button
                id="btnClearLamp"
                class="btn inline-flex items-center justify-center rounded-xl border border-gray-300 dark:border-zinc-700 px-3 py-2 min-w-[44px] min-h-[44px] text-[15px] hover:bg-gray-100 dark:hover:bg-zinc-800 transition"
              >
                Vaciar
              </button>
            </div>
          </div>
          <div
            class="card rounded-2xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-gray-800 p-3 shadow-sm"
          >
            <div
              class="badge inline-block text-sm uppercase tracking-wide text-gray-500 dark:text-lime-400 mb-2"
            >
              Listado de lámparas
            </div>
            <div id="list-ilum" class="grid"></div>
          </div>
          <div
            class="card rounded-2xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-gray-800 p-3 shadow-sm"
          >
            <div
              class="badge inline-block text-sm uppercase tracking-wide text-gray-500 dark:text-lime-400 mb-2"
            >
              Subtotal Iluminación
            </div>
            <div>
              <strong><span id="subIlum">0</span></strong> kg CO₂e
            </div>
          </div>
        </section>
        <!-- TRANSPORTE -->

        <!-- ALIMENTOS -->

        <!-- RESUMEN -->
      </main>

      <footer
        class="footer bg-white dark:bg-zinc-900 border-t border-gray-200 dark:border-zinc-800"
      >
        <div class="total dark:text-lime-400">
          Total: <output id="totalFooter" aria-live="polite">0</output> kg CO₂e
        </div>
        <div class="flex items-center gap-2">
          <button
            id="btnPrev"
            class="btn inline-flex items-center justify-center rounded-xl border border-gray-300 dark:border-zinc-700 px-3 py-2 min-w-[44px] min-h-[44px] text-[15px] hover:bg-gray-100 dark:hover:bg-zinc-800 transition"
          >
            ← Anterior
          </button>
          <button
            id="btnNext"
            class="btn primary inline-flex items-center justify-center rounded-xl border border-gray-300 dark:border-zinc-700 px-3 py-2 min-w-[44px] min-h-[44px] text-[15px] hover:bg-gray-100 dark:hover:bg-zinc-800 transition"
          >
            Siguiente →
          </button>
          <button
            id="btnResetAll"
            class="btn inline-flex items-center justify-center rounded-xl border border-gray-300 dark:border-zinc-700 px-3 py-2 min-w-[44px] min-h-[44px] text-[15px] hover:bg-gray-100 dark:hover:bg-zinc-800 transition"
            title="Borrar todo"
          >
            ↺
          </button>
        </div>
      </footer>
    </div>

    <script src="app.js"></script>
  </body>
</html>
